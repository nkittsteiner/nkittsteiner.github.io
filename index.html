<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Your Website</title>

	  <!-- Material Design fonts -->

	  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
	  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	  <!-- Bootstrap -->
	  <link href="_includes/bower_components/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">

	  <!-- Bootstrap Material Design -->
	  <link href="_includes/bower_components/bootstrap-material-design/dist/css/bootstrap-material-design.min.css" rel="stylesheet">
	  <link href="_includes/bower_components/bootstrap-material-design/dist/css/ripples.min.css" rel="stylesheet">	
</head>

<body role="document">

<a href="https://github.com/nkittsteiner/nkittsteiner.github.io"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

<div class="container">

  <div class="page-header" id="banner">
    <div class="row">
      <div class="col-sm-6">
        <h1>HN Code Trends</h1>

        <p class="lead">Based on HN data</p>
      </div>
	</div>
    
    <div class="row">
      <div class="col-md-12">
        <div class="page-header">
          <h1 id="type">Word count in stories:</h1>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-8">
		<div class="jumbotron" id="jumbotron">

		</div>
      </div>
      <div class="col-md-2"></div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <div class="bs-component">
          <h2>Example body text</h2>

          <p>Nullam quis risus eget
            <a href="javascript:void(0)">urna mollis ornare</a> vel eu leo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Nullam id dolor id nibh ultricies vehicula.
          </p>

          <p>
            <small>This line of text is meant to be treated as fine print.</small>
          </p>
          <p>The following snippet of text is <strong>rendered as bold text</strong>.</p>

          <p>The following snippet of text is <em>rendered as italicized text</em>.</p>

          <p>An abbreviation of the word attribute is <abbr title="attribute">attr</abbr>.</p>
        </div>

      </div>
    </div>

  </div>
</div>



	<script src="_includes/bower_components/jquery/dist/jquery.min.js"></script>
	<script src="_includes/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
	<script src="_includes/bower_components/bootstrap-material-design/dist/js/material.min.js"></script>
	<script src="_includes/bower_components/bootstrap-material-design/dist/js/ripples.min.js"></script>
	<script src="_includes/bower_components/d3/d3.min.js" charset="utf-8"></script>
	<script src="https://raw.githubusercontent.com/jasondavies/d3-cloud/master/build/d3.layout.cloud.js"></script>
	<script type="text/javascript">

	function get_data(){
	  	$.get("https://raw.githubusercontent.com/nkittsteiner/hacker-news-code-trends/master/json/count.json", function(data){
	  		jsondata = JSON.parse(data)
	  		load_tag_cloud(jsondata)
	  	});		
	}

	function load_tag_cloud(jsondata){
	var fill = d3.scale.category20();

	  d3.layout.cloud().size([550, 300])
	      .words(
				jsondata.map(function(d){
				  return{text: d.name, size: d.count / 125}
				})
	      	)
	      .rotate(function(d) {  
	      	if (d.text.length <= 3)
	      	 return 90; 
	      	else
	      	  return 0;
	      })
	      .padding(2)
	      .font("Impact")
	      .fontSize(function(d) { return d.size; })
	      .on("end", draw)
	      .start();

	  function draw(words) {
	    d3.select("#jumbotron").append("svg")
	        .attr("width", 600)
	        .attr("height", 300)
	      .append("g")
	        .attr("transform", "translate(310,150)")
	      .selectAll("text")
	        .data(words)
	      .enter().append("text")
	        .style("font-size", function(d) { return d.size + "px"; })
	        .style("font-family", "Arial")
	        .style("fill", function(d, i) { return fill(i); })
	        .attr("text-anchor", "middle")
	        .attr("transform", function(d) {
				console.log(d.text);
				console.log([d.x, d.y]);
	          return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
	        })
	        .text(function(d) { return d.text; });
	  }    
	}
  $(function () {

  	get_data();
  	//Add top 10 bar chart
  	//Add line chart comparison for top 10
    $.material.init();	  
  });
	</script>

</body>

</html>