<!DOCTYPE html>
<html>

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<title>Top 20 Programming Languages in Hacker News</title>

	  <!-- Material Design fonts -->

	  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
	  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

	  <!-- Bootstrap -->
	  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">

	  <!-- Bootstrap Material Design -->
	  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.5.7/css/bootstrap-material-design.min.css" rel="stylesheet">
	  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.5.7/css/ripples.min.css" rel="stylesheet">	
	  <link href="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.css" rel="stylesheet">

	  <link media="screen" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">	  
	  <style type="text/css">
	  body {
	  	background-color: white;
	  }
	  </style>
</head>

<body role="document">

<a href="https://github.com/nkittsteiner/hacker-news-code-trends"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

<div class="container">

  <div class="page-header" id="banner">
    <div class="row">
      <div class="col-sm-6">
        <h1>Top 20 Programming Languages in Hacker News</h1>

        <p class="lead">Based on HN stories</p>
      </div>
	</div>
   

    <div class="row">
      <div class="col-md-2"></div>
      <div class="col-md-8">
		<div id="jumbotron">

		</div>
      </div>
      <div class="col-md-2"></div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <div class="bs-component">
          <h2>TL;DR</h2>

          <p>Using mostly all the stories published in the site <a href="https://news.ycombinator.com/">news.ycombinator.com</a> I grouped and filtered all stories related to programming languages. The core idea is to know which programming languages are the most discussed and have more relevance in the HN ecosystem.
          </p>

          <p>
            <strong>Disclaimer: This is a very rough estimate. In special for 'Go', 'C' and 'R' which are difficult to separate from context. Besides, I'm mostly a backend developer so if you think something is wrong with this web or can be modified, please feel free to comment about it!</strong>
          </p>


		  <h2>Motivation</h2>                   

          <p>In my opinion, HN is a fantastic information source. Not only for entrepreneurs but also for many hackers trying to do something interesting with code. I believe a great amount of HN stories are relevant, not only to devs, but to a whole ecosystem trying not to drown in an ocean of irrelevant information.</p>

		  <h2>Gathering the dataset</h2>

          <p>For simplicity I use some Python scripts for connect to the <a href="https://github.com/HackerNews/API">HN API</a> in Firebase. The process of gathering all the stories was painfully slow. Then I tried to filter stories related to some programming language using Github's linguist <a href="https://github.com/github/linguist/blob/master/lib/linguist/languages.yml">languages.yml</a> file. For some cases (strings with no more than 3 characters), I had to filter with exact match for each word in the story title. Therefore, this is a very rough estimate; as I said before, hope you could hack this scripts if you want to :)</p>


          <p>Finally I did some processing using Pandas, and this is the result:</p>
        </div>

      </div>
    </div>

    <div class="row">
      <div class="col-md-12">
        <div class="bs-component">
          <h2>Counting stories by programming languages (Top 20)</h2>
          <div id="chart2" class="c3" style="max-height: 280px; position: relative;"></div>
        </div>

      </div>
    </div>        

    <br />

    <div class="row">
      <div class="col-md-12">
        <div class="bs-component">
          
          <p>When looking at this chart, it's important to know that for instance 'Go' has a lot of false positives, due to the difficult to filter in context. In the other hand Javascript has many stories not counted because of typos in the title of the story (ex: [Something]+JS and the relevant Node framework)</p>
   
        </div>

      </div>
    </div> 

    <div class="row">
      <div class="col-md-12">
        <div class="bs-component">
          <h2>Top ten programming languages by year</h2>
          <div id="line_chart" class="c3" style="max-height: 280px; position: relative;"></div>
        </div>

      </div>
    </div>            

<br />

    <div class="row">
      <div class="col-md-12">
        <div class="bs-component">
          
          <p>It's interesting to see that 2015 was the year of Javascript without any doubt. In 2014, we witnessed a decline of Python and Java langs. Go-lang gained a lot of popularity last year, maybe at the same level of Python (ignoring false positives).</p>

		  <p>Aside from the quantity of HN readers, this is only one source of thousands of other sources of information related to programming (Twitter, GitHub, groups, other ezines, etc). So this information can't be used to select one programming language in particular. Use the correct tool for the job.</p>          

		  <p>If you want to contribute with more analytics, feel free to fork HN dataset. It would be nice seeing some trends about Web Frameworks, counting votes of each story, or doing some sentiment analysis of each article. Another interesting thing would be using HN Jobs information grouping by technology.</p>          

		  <p>
		  	
             <a class="btn btn-raised active" data-placement="top" data-toggle="tooltip" target="_blank" title="Share on Twitter" href="http://twitter.com/?status=Top 20 Code Langs in Hacker News http://nkittsteiner.github.io @nicokittsteiner"><i class="fa fa-twitter"></i> Twitter</a>		  	
             <a class="btn btn-raised active" data-placement="top" data-toggle="tooltip" target="_blank" title="Fork it!" href="https://github.com/nkittsteiner/hacker-news-code-trends"><i class="fa fa-github"></i> Github</a>
		  </p>

        </div>

      </div>
    </div>

  </div>
</div>



	<script src="https://code.jquery.com/jquery-2.2.0.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.6/js/bootstrap.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.5.7/js/material.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-material-design/0.5.7/js/ripples.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.13/d3.min.js" charset="utf-8"></script>
	<script src="https://cdn.rawgit.com/jasondavies/d3-cloud/master/build/d3.layout.cloud.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.10/c3.min.js"></script>
	<script type="text/javascript">



		function init_data(){
		  	$.get("https://cdn.rawgit.com/nkittsteiner/hacker-news-code-trends/master/json/count.json", data_callback);		
		}

		function line_graph_data(){
			$.get("https://rawgit.com/nkittsteiner/hacker-news-code-trends/master/json/yearmonth.json", line_graph_data_callback);	
		}		

		function data_callback(json){
	  		
			load_tag_cloud(json);

			var top20 = [];
			for (var i = 1; i <= 20; i++){
				top20.push(json[json.length - i]);
			}			
			load_bar_chart(top20);
	  					
		}

		function line_graph_data_callback(json){
			load_line_chart(json);									
		}

		function load_bar_chart(arr){		
			var chart = c3.generate({
				bindto: '#chart2',
				data: {
					json: arr,
					keys: {
						x: 'name',
						value: ['count']
					},
					type: 'bar'				
				},

		        axis: {
		            x: {
		                type: 'category',
						tick: {
				                rotate: 90,
				                multiline: false
			            }		                
		            }
		        }				
			});			
		}

		function load_line_chart(obj){
			var chart = c3.generate({
			    bindto: '#line_chart',
			    data: {
			        xs: obj.xs,
			        columns: obj.news
			    }
		    });
		}

		function load_tag_cloud(jsondata){
	      var fill = d3.scale.category20();

		  d3.layout.cloud().size([550, 300])
		      .words(
					jsondata.map(function(d){
					  return{text: d.name, size: d.count / 125}
					})
		      	)
		      .rotate(function(d) {  
		      	if (d.text.length <= 3)
		      	 return 90; 
		      	else
		      	  return 0;
		      })
		      .padding(2)
		      .font("Impact")
		      .fontSize(function(d) { return d.size; })
		      .on("end", draw)
		      .start();

		function draw(words) {
		    d3.select("#jumbotron").append("svg")
		        .attr("width", 600)
		        .attr("height", 300)
		      .append("g")
		        .attr("transform", "translate(310,150)")
		      .selectAll("text")
		        .data(words)
		      .enter().append("text")
		        .style("font-size", function(d) { return d.size + "px"; })
		        .style("font-family", "Arial")
		        .style("fill", function(d, i) { return fill(i); })
		        .attr("text-anchor", "middle")
		        .attr("transform", function(d) {
		          return "translate(" + [d.x, d.y] + ")rotate(" + d.rotate + ")";
		        })
		        .text(function(d) { return d.text; });
		  }    
		}



		$(function () {
			init_data();
			line_graph_data();
			$.material.init();	  
		});
</script>

</body>

</html>